[["index.html", "Manhattan Restaurants Reviews Chapter 1 Introduction", " Manhattan Restaurants Reviews Tianqi Lou (tl3028), Liyuan Tang (lt2806), Weiyao Xie (wx2251), Heather Zhu (yz4042) 2020-12-15 Chapter 1 Introduction We have Three goals for this project. Provide people with easy access to visualizaed restaurant information; map the restaurant onto NYC map for geographical distribution; explore any interesting relationship between restaurant reviews and health inspection data. Our project uses two restaurant datasets we scraped. One is from Opentable, another one is the inspection data from the Health Department. First, we want to provide an interacitve user interface such that people can easily get a through information of a restaurant, including its detailed reviews and how the restaurant performed during the inspections. Second, we want to see the geographical distribution of the restaurants by inspection results. By mapping the restaurants into the NYC map, we can identify which neighborhood have the cleanest restaurants and which neighborhood has not so clean restaurants. It is also more convenient for people who just want to focus on their on neighborhoods. Finally, we want to investigate the overall relationship between restaurants’ public reviews and the performance during the inspection. We would like to know if popular restaurants generally meet the health requirements. Besides that we would also like to see if there is any unexpected trend. For example, is there any very poorly reviewed restaurant that got exceptionally good reviews during inspections? "],["data-sources.html", "Chapter 2 Data sources", " Chapter 2 Data sources We are using two datasets for our project. The first one is an inspection results data, where we downloaded the dataset from the official website. The second dataset is restaurant review dataset during last restaurant week. We scraped this dataset from Opentable using rvest. We first get the name of restaurants participating in the NYC restaurant week. Then we use the name we got to scrape detailed information that we need. The scraped data contains 9 columns: food_review, ambience_review value_review, service_review, price_range review_count, average_review, restaurant_main_type. The detailed information like review scores are scraped from the restaurant page. The way we scraped data was that we restrict the region into Manhattan area so that most restaurants will appear in the health inspection data. Since there are 3 pages of restaurants, we used url to do page indexing. Then we constructed a loop with page numbers. In side this loop we have a nested loop that use the restaurant names we got froim this page to modify the url. We did some regex on the names so that they can fit the way opentable use them. For each column we append each value into a list. After we finish the nested loop, we will combine all the lists we have into our final dataset. Following is the code for our scaping script: There is not scraping process for our inspection data. The data contains grade, score, date of the inspection, violation description and the restaurant name. Our further task is to join these two datasets, and explore some interesting relationship between these two. "],["missing-values.html", "Chapter 3 Missing values", " Chapter 3 Missing values First, we load the data and show the first couple lines here. ## name street_address ## 1 Smoke Jazz and Supper Club 2751 Broadway New York, NY 10025 ## 2 Tavern on the Green 1 Tavern on the Green New York, NY 10023 ## 3 ABC Kitchen 35 East 18th Street New York, NY 10003 ## google_map ## 1 //www.google.com/maps/search/?api=1&amp;query=40.8012200%2C-73.968013 ## 2 //www.google.com/maps/search/?api=1&amp;query=40.7723930%2C-73.97862 ## 3 //www.google.com/maps/search/?api=1&amp;query=40.7377830%2C-73.989714 ## review_count phone website ## 1 2155 (212) 864-6662 http://www.smokejazz.com/ ## 2 7029 (212) 877-8684 http://www.tavernonthegreen.com/ ## 3 6031 (212) 475-5829 http://www.abckitchennyc.com/ ## restaurant_type average_review food_review service_review ## 1 Contemporary American 4.42155 3.9 4.2 ## 2 American 4.67029 4.4 4.4 ## 3 Contemporary American 4.76031 4.6 4.4 ## ambience_review value_review price_range star_1 star_2 star_3 star_4 star_5 ## 1 4.5 4 $31 to $50 2 7 5 24 62 ## 2 4.7 4 $31 to $50 1 2 6 19 72 ## 3 4.6 4.1 $31 to $50 1 2 5 15 77 ## description ## 1 Smoke has augmented its reputation as one of Manhattan’s most distinguished jazz venues with an addition very uncommon to jazz clubs—great food. Smoke serves innovative American Bistro fare developed by critically acclaimed executive chef Patricia Williams. Smoke is proud to be New York&#39;s only boutique Jazz &amp; Supper Club with an award winning chef and world-class jazz seven nights a week.IMPORTANT RESERVATION INFORMATION:Please check the Smoke Calendar page at www.smokejazz.com to view music charge policies for the date you are planning to join us. If you are a Smoke Rewards Card holder, you are entitled to use your card Monday - Thursday, with the exception of some special events. We kindly recommend that our guests purchase tickets in advance on our website. You are always welcome to call us with questions or concerns regarding music charge policies at (212) 864-6662. Thank you! ## 2 Magical is a word thrown around a lot when discussing Tavern On The Green and one can’t help but feel magic in the air. Jim and David, architect Richard Lewis and landscape architect Robin Key, preserved the Victorian/ Gothic elegance of the semi-circular building; it is authentic, natural, elegant and sexy. It has been re-built to spectacular precision and the décor is of a grand farmhouse one might find on the property of an Italian Villa or a historic Hudson River Valley mansion. ## 3 ABC Kitchen with Jean-Georges: passionately committed to offering the freshest organic and local ingredients possible.ABC Kitchen presents a changing menu that is locally sourced and globally artistic in a fresh and articulate space. ## restaurant_main_type latitude longitude postal_code ## 1 Contemporary American 40.8011258 -73.9681923 10025 ## 2 American 40.7721869 -73.9777215 10023 ## 3 Contemporary American 40.7378971 -73.9894995 10003 Then, we check the number of NA’s in each column. ## name street_address google_map ## 0 1 3 ## review_count phone website ## 3 4 6 ## restaurant_type average_review food_review ## 5 5 5 ## service_review ambience_review value_review ## 5 5 5 ## price_range star_1 star_2 ## 5 5 5 ## star_3 star_4 star_5 ## 5 5 5 ## description restaurant_main_type latitude ## 5 5 5 ## longitude postal_code ## 5 7 There are 5 NA’s in each review columns. To find out where they are, we plot the missing patterns in data by rows with mi package. From the plot above, we can see that all 10 missing values are in the same rows, so we decided to remove these rows by using na.omit() function. And we check again to make sure there are no NA’s in the dataset. ## name street_address google_map ## 0 0 0 ## review_count phone website ## 0 0 0 ## restaurant_type average_review food_review ## 0 0 0 ## service_review ambience_review value_review ## 0 0 0 ## price_range star_1 star_2 ## 0 0 0 ## star_3 star_4 star_5 ## 0 0 0 ## description restaurant_main_type latitude ## 0 0 0 ## longitude postal_code ## 0 0 We then check for NA’s in our second dataset. ## DBA ## 1 GOLDBAR ## 2 GOLDBAR ## 3 GOLDBAR ## 4 EAT-A-BAGEL (JOHN A NOBLE FERRY BOAT) ## 5 RESTAURANT ON 58 STREET ## 6 RESTAURANT ON 58 STREET ## VIOLATION.DESCRIPTION ## 1 Plumbing not properly installed or maintained; anti-siphonage or backflow prevention device not provided where required; equipment or floor not properly drained; sewage disposal system in disrepair or not functioning properly. ## 2 Food contact surface not properly washed, rinsed and sanitized after each use and following any activity when contamination may have occurred. ## 3 Personal cleanliness inadequate. Outer garment soiled with possible contaminant. Effective hair restraint not worn in an area where food is prepared. ## 4 ## 5 Cold food item held above 41o F (smoked fish and reduced oxygen packaged foods above 38 oF) except during necessary preparation. ## 6 Non-food contact surface improperly constructed. Unacceptable material used. Non-food contact surface or equipment improperly maintained and/or not properly sealed, raised, spaced or movable to allow accessibility for cleaning on all sides, above and underneath the unit. ## CRITICAL.FLAG SCORE GRADE GRADE.DATE ## 1 N 13 A 05/31/2013 ## 2 Y 13 A 05/31/2013 ## 3 Y 13 A 05/31/2013 ## 4 0 A 06/07/2013 ## 5 Y 9 A 02/11/2014 ## 6 N 9 A 02/11/2014 ## DBA VIOLATION.DESCRIPTION CRITICAL.FLAG ## 0 1755 1755 ## SCORE GRADE GRADE.DATE ## 0 0 0 Since our dataset is large enough, we can delete these rows. Then double check. ## DBA VIOLATION.DESCRIPTION CRITICAL.FLAG ## 0 0 0 ## SCORE GRADE GRADE.DATE ## 0 0 0 "],["data-transformation.html", "Chapter 4 Data Transformation", " Chapter 4 Data Transformation We’d like to order the data by average_review to see the general ranking of the restaurants. ## name ## 6 Estiatorio Milos - NY ## 108 Club A Steakhouse ## 150 Bobby Van&#39;s Steakhouse - 54th Street ## 9 Del Frisco&#39;s Double Eagle Steak House - New York City ## 32 Zuma Japanese Restaurant - NY ## 3 ABC Kitchen ## street_address ## 6 125 West 55th Street New York, NY 10019 ## 108 240 East 58th Street New York, NY 10022 ## 150 131 E. 54th Street New York, NY 10169 ## 9 1221 Avenue of the Americas New York, NY 10020 ## 32 261 Madison Avenue New York, NY 10016 ## 3 35 East 18th Street New York, NY 10003 ## google_map ## 6 //www.google.com/maps/search/?api=1&amp;query=40.7634560%2C-73.978894 ## 108 //www.google.com/maps/search/?api=1&amp;query=40.7605260%2C-73.96609 ## 150 //www.google.com/maps/search/?api=1&amp;query=40.7591420%2C-73.970869 ## 9 //www.google.com/maps/search/?api=1&amp;query=40.7591640%2C-73.981365 ## 32 //www.google.com/maps/search/?api=1&amp;query=40.7504680%2C-73.980608 ## 3 //www.google.com/maps/search/?api=1&amp;query=40.7377830%2C-73.989714 ## review_count phone website ## 6 4404 (212) 245-7400 http://www.estiatoriomilos.com/ ## 108 3371 (212) 688-4190 http://clubasteakhouse.com/ ## 150 897 (212) 207-8050 http://www.bobbyvans.com/ ## 9 7225 (212) 575-5129 http://delfriscos.com/ ## 32 678 (212) 544-9862 http://www.zumarestaurant.com/ ## 3 6031 (212) 475-5829 http://www.abckitchennyc.com/ ## restaurant_type average_review food_review service_review ## 6 Seafood 4.84404 4.8 4.6 ## 108 Steakhouse 4.83371 4.7 4.8 ## 150 Steakhouse 4.7897 4.6 4.5 ## 9 Steakhouse 4.77225 4.6 4.7 ## 32 Japanese 4.7678 4.6 4.4 ## 3 Contemporary American 4.76031 4.6 4.4 ## ambience_review value_review price_range star_1 star_2 star_3 star_4 ## 6 4.6 4.2 $50 and over 1 1 3 14 ## 108 4.7 4.6 $31 to $50 1 1 4 10 ## 150 4.4 4.2 $31 to $50 2 2 2 15 ## 9 4.5 4 $50 and over 1 2 5 16 ## 32 4.6 4.1 $50 and over 1 1 6 18 ## 3 4.6 4.1 $31 to $50 1 2 5 15 ## star_5 ## 6 81 ## 108 84 ## 150 79 ## 9 76 ## 32 74 ## 3 77 ## description ## 6 The freshest, most flavorful fish, vegetables / fruits, prepared in the subtlest way and served in an elegant, spacious setting, is why Milo&#39;s has become of one of New York&#39;s most lauded restaurant. Costas Spiliadis, owner/chef, is continuing the standard of excellence he began in Montreal, where he opened the original Milos, now a landmark. Patrons can choose their fish from an abundant market display and watch it swiftly grilled in the open kitchen. Pre-fixe menu 5pm to 6pm Monday to Saturday, Late night menu 10pm to closing Monday to Saturday. ## 108 Club A Steakhouse provides a truly unique dining experience. Family owned and operated the owner Bruno Selimaj or one of his three sons are onsite and greets each guest every night. Club A manages to encompass the characteristics of a traditional steak house and new world modernism that is evident in both the menu and d&lt;U+00A8&gt;&lt;U+00A6&gt;cor. The warmth paired with the distinct menu and extensive wine list make it perfect for any occasion. Please note that Club A Steakhouse will honor your Groupon reservations however OpenTable Diner Rewards points will not be received. ## 150 &quot;At Bobby Vans 54th Street, you can expect the same great service and the same great food as our other restaurants. Tucked away in another historic restaurant location, (at one time this was the hang out spot for such stars as Frank Sinatra and the rest of the Rat Pack) there is plenty of history and untold stories behind these walls, if only they could talk. \\nConveniently located just east of Park Avenue and 4 blocks north of The Waldorf-Astoria, this is where you want to be. As you walk into the restaurant you&lt;U+00A1&gt;&lt;U+00AF&gt;re greeted by our hosts and a large credenza filled with beautiful bottles of wine. Glancing to your left you overlook the spacious yet always occupied bar, where the bartenders know your name and have your drink waiting for you before you can even say hello. Separating the bar from the dining room is a glass window so you can see all the action of other diners enjoying their meals. The dining room has the good old fashioned steakhouse style with handcrafted wood walls, and F ## 9 A midtown classic with sprawling views of the NYC. Located in the heart of Midtown, this steakhouse offers incredible service and great food in a beautiful three level space. Known for having one of the city&#39;s best wine lists and bar scenes, Del Frisco&#39;s is the perfect place for small groups and parties of up to 80. ## 32 Zuma, the brainchild of award winning co-founder and creator, Rainer Becker, brings its internationally acclaimed style of contemporary Japanese cuisine to midtown, New York. Serving dishes designed to share and inspired by the informal dining style of izakaya; the three kitchens present authentic yet alluring options, with bold flavors and simple presentation, highlighting quality ingredients. 261 Madison Avenue 10016 ## 3 ABC Kitchen with Jean-Georges: passionately committed to offering the freshest organic and local ingredients possible.ABC Kitchen presents a changing menu that is locally sourced and globally artistic in a fresh and articulate space. ## restaurant_main_type latitude longitude postal_code ## 6 Seafood 40.763598 -73.9789514 10019 ## 108 Steakhouse 40.7600512 -73.9655781 10022 ## 150 Steakhouse 40.759345 -73.970949 10169 ## 9 Steakhouse 40.7594248 -73.9822224 10020 ## 32 Japanese &amp; Koren 40.7504971 -73.9806384 10016 ## 3 Contemporary American 40.7378971 -73.9894995 10003 We’d like to join our datasets to see both the violations and the ratings. To accomplish that, we first convert all restaurants names to lower cases with tolower(), then strip symbols off on two datasets with sub() to create uniform syntax for names. After that, we used sqldf package to count the number of violations each restaurant has and join the two datasets together as our final dataset. We can take a glance at the final dataset. ## name street_address ## 1 club a steakhouse 240 East 58th Street New York, NY 10022 ## 2 abc kitchen 35 East 18th Street New York, NY 10003 ## 3 danji 346 West 52nd Street New York, NY 10019 ## google_map ## 1 //www.google.com/maps/search/?api=1&amp;query=40.7605260%2C-73.96609 ## 2 //www.google.com/maps/search/?api=1&amp;query=40.7377830%2C-73.989714 ## 3 //www.google.com/maps/search/?api=1&amp;query=40.7640010%2C-73.986873 ## review_count phone website ## 1 3371 (212) 688-4190 http://clubasteakhouse.com/ ## 2 6031 (212) 475-5829 http://www.abckitchennyc.com/ ## 3 595 (212) 586-2880 http://www.danjinyc.com/ ## restaurant_type average_review food_review service_review ## 1 Steakhouse 4.83371 4.7 4.8 ## 2 Contemporary American 4.76031 4.6 4.4 ## 3 Korean 4.7595 4.7 4.5 ## ambience_review value_review price_range star_1 star_2 star_3 star_4 star_5 ## 1 4.7 4.6 $31 to $50 1 1 4 10 84 ## 2 4.6 4.1 $31 to $50 1 2 5 15 77 ## 3 4.3 4.2 $31 to $50 0 1 5 21 73 ## description ## 1 Club A Steakhouse provides a truly unique dining experience. Family owned and operated the owner Bruno Selimaj or one of his three sons are onsite and greets each guest every night. Club A manages to encompass the characteristics of a traditional steak house and new world modernism that is evident in both the menu and d&lt;U+00A8&gt;&lt;U+00A6&gt;cor. The warmth paired with the distinct menu and extensive wine list make it perfect for any occasion. Please note that Club A Steakhouse will honor your Groupon reservations however OpenTable Diner Rewards points will not be received. ## 2 ABC Kitchen with Jean-Georges: passionately committed to offering the freshest organic and local ingredients possible.ABC Kitchen presents a changing menu that is locally sourced and globally artistic in a fresh and articulate space. ## 3 Danji showcases authentic Korean flavors prepared with classic techniques to enhance the taste, textures, and aesthetic of each dish. We offer small but shareable portions served in multiple courses, allowing diners to enjoy each dish hot out of the kitchen. Above all, Danji, from its decor to its music, represents our idea of a great place to enjoy amazing food.At Danji and Hanjan we choose to use meat raised with no antibiotics or growth hormones. Our fish are caught wild and are not overfished and endangered. We try to use as much organic and local produce as possible and certainly do not use chemicals, such as MSG, to enhance flavors. No doubt these ingredients cost more but we believe the food we consume should be healthy and responsible as well as delicious. ## restaurant_main_type latitude longitude postal_code violation_count ## 1 Steakhouse 40.7600512 -73.9655781 10022 7 ## 2 Contemporary American 40.7378971 -73.9894995 10003 7 ## 3 Japanese &amp; Koren 40.7640352 -73.9868366 10019 6 While the above final dataset contains information about restaurants which had violation records, in order to faciliate the interaction part of this project, we are going to create cleaned_restaurants and cleaned_violations datasets, so that we can 1.find each restaruant’s violation total count (including 0) 2.boil down the large original violations file so the new file only contains restaurant week’s restaurants’ specific violation information. "],["results.html", "Chapter 5 Results", " Chapter 5 Results "],["interactive-component.html", "Chapter 6 Interactive component", " Chapter 6 Interactive component "],["conclusion.html", "Chapter 7 Conclusion", " Chapter 7 Conclusion "]]
